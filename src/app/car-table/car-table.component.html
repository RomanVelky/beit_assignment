<div class="p-2 sm:p-8">
  <p-table [columns]="cols" [value]="cars" [rows]="4" [paginator]="true">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns">
          {{ col.header }}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr>
        <td *ngFor="let col of columns">
          <ng-container *ngIf="col.field !== 'action'; else actionButton">
            {{ formatValue(rowData[col.field], col.field) }}
          </ng-container>
          <ng-template #actionButton>
            <p-button
              label="Prejit&nbsp;na&nbsp;detail"
              (click)="showCarDetail(rowData)"
            ></p-button>
          </ng-template>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
<p-sidebar
  [(visible)]="displaySidebar"
  [modal]="true"
  position="left"
  styleClass="min-w-80 max-[400px]:min-w-full"
  #sidebarRef
>
  <ng-template pTemplate="headless">
    <ng-container *ngIf="selectedCar">
      <app-car-detail
        [car]="selectedCar"
        (closeEmitter)="closeCallback($event)"
        (carUpdated)="handleCarUpdated($event)"
      ></app-car-detail>
    </ng-container>
  </ng-template>
</p-sidebar>
